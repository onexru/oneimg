# oneimg
基于go的图片转webp存储的图床系统，基于 Vue.js 3 + Go 构建，支持POW验证、剪贴板上传等高级功能。

## ✨ 功能特性

### 🔐 安全认证
- POW (工作量证明) 验证登录
- Session 会话管理
- 密码加密存储
- 会话超时保护

### 📤 图片上传
- **剪贴板粘贴直接上传** - 支持 Ctrl+V 粘贴上传
- 拖拽上传支持
- 批量文件选择上传
- 支持多种图片格式 (JPEG, PNG, GIF, WebP, SVG, BMP)
- 文件大小限制和格式验证
- 上传进度显示

### 🖼️ 图片管理
- 网格/列表视图切换
- 图片预览和详情查看
- 批量删除操作
- 图片搜索和筛选
- 复制链接功能
- 图片信息展示 (大小、格式、上传时间)

### 📊 数据统计
- 仪表板概览
- 上传趋势图表
- 格式分布统计
- 存储空间统计
- 实时数据更新

### 🎨 用户界面
- 现代化设计风格
- 响应式布局 (支持移动端)
- 深色/浅色主题
- 流畅的动画效果
- 直观的操作体验

### ⚙️ 系统设置
- 账户密码管理
- 上传参数配置
- 显示偏好设置
- 安全选项配置

## 🛠️ 技术栈

### 前端技术
- **Vue.js 3** - 渐进式JavaScript框架
- **Composition API** - Vue 3 组合式API
- **Vite** - 现代化构建工具
- **Vue Router** - 官方路由管理器
- **Axios** - HTTP客户端
- **SCSS** - CSS预处理器

### 后端技术
- **Go** - 高性能编程语言
- **Gin** - 轻量级Web框架
- **GORM** - Go语言ORM库
- **SQLite/MySQL** - 数据库支持
- **bcrypt** - 密码加密
- **Session** - 会话管理

### 开发工具
- **热重载** - 开发时自动刷新
- **代码分割** - 优化加载性能
- **压缩优化** - 生产环境优化
- **跨域支持** - CORS配置

## 🚀 快速开始

### 环境要求
- Go 1.19 或更高版本
- Node.js 16 或更高版本
- npm 或 yarn 包管理器

### Dokcer
```
docker-compose up -d --build
```

### 默认账号

admin

123456

你可以在设置内修改默认的账号密码

### 文件存储结构

**目录结构：** 按年/月组织文件存储
```
uploads/
├── 2024/
│   ├── 01/
│   │   ├── 17a2b3c4d5e6f789123.webp
│   │   └── 28b3c4d5e6f7a890456.webp
│   ├── 02/
│   │   └── 39c4d5e6f7a8b901789.gif
│   └── 03/
│       └── 4ad5e6f7a8b9c012890.webp
└── 2025/
    └── 01/
        └── 5be6f7a8b9c0d123901.webp
```

**文件命名规则：** `hash+3位随机数.webp`
- hash: 基于纳秒时间戳的十六进制哈希值
- 3位随机数: 100-999之间的随机数

**访问URL格式：** `/uploads/YYYY/MM/filename.webp`

示例：`/uploads/2024/03/4ad5e6f7a8b9c012890.webp`

### 图片压缩

- 自动检测图片格式
- 智能压缩算法
- 保持图片质量的同时减小文件大小
- 返回压缩比例信息

### 错误处理

常见错误码和处理：

- `400`: 请求格式错误或文件验证失败
- `401`: 未登录或认证失败
- `413`: 文件过大
- `415`: 不支持的文件类型
- `500`: 服务器内部错误

## 其它

次项目使用 CodeBuddy 辅助开发，存在部分BUG（能用就行）

登录接入了 OnePow 验证，您可以
